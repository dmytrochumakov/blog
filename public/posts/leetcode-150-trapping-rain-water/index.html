<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>LeetCode - 150 - Trapping Rain Water | Dmytro&#39;s Blog</title>
<meta name="keywords" content="LeetCode, 150, Trapping Rain Water, Swift">
<meta name="description" content="The problem
Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it can trap after raining.
Examples

    
    
    
        
    

Input: height = [0,1,0,2,1,0,1,3,2,1,2,1]
Output: 6
Explanation: The above elevation map (black section) is represented by array [0,1,0,2,1,0,1,3,2,1,2,1]. In this case, 6 units of rain water (blue section) are being trapped.
Input: height = [4,2,0,3,2,5]
Output: 9
Constraints

n == height.length
1 &lt;= n &lt;= 2 * 10^4
0 &lt;= height[i] &lt;= 10^5

Explanation
Let&rsquo;s look at our example and determine the algorithm of how much water each position could trap.

    
    
    
        
    
">
<meta name="author" content="Dmytro Chumakov">
<link rel="canonical" href="http://localhost:1313/posts/leetcode-150-trapping-rain-water/">
<meta name="google-site-verification" content="G-HZZ4JTFGDP">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8d4df4fe329d2372424d28ce76581b7279a2220496c292d225bde1c201d0518c.css" integrity="sha256-jU30/jKdI3JCTSjOdlgbcnmiIgSWwpLSJb3hwgHQUYw=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/leetcode-150-trapping-rain-water/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><style>
    @media screen and (min-width: 769px) {
         
        .post-content input[type="checkbox"]:checked ~ label > img {
            transform: scale(1.6);
            cursor: zoom-out;
            position: relative;
            z-index: 999;
        }
    
        .post-content img.zoomCheck {
            transition: transform 0.15s ease;
            z-index: 999;
            cursor: zoom-in;
        }
    }
    </style>
    
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-HZZ4JTFGDP"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-HZZ4JTFGDP');
        }
      </script><meta property="og:url" content="http://localhost:1313/posts/leetcode-150-trapping-rain-water/">
  <meta property="og:site_name" content="Dmytro&#39;s Blog">
  <meta property="og:title" content="LeetCode - 150 - Trapping Rain Water">
  <meta property="og:description" content="The problem Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it can trap after raining.
Examples Input: height = [0,1,0,2,1,0,1,3,2,1,2,1] Output: 6 Explanation: The above elevation map (black section) is represented by array [0,1,0,2,1,0,1,3,2,1,2,1]. In this case, 6 units of rain water (blue section) are being trapped. Input: height = [4,2,0,3,2,5] Output: 9 Constraints n == height.length 1 &lt;= n &lt;= 2 * 10^4 0 &lt;= height[i] &lt;= 10^5 Explanation Let’s look at our example and determine the algorithm of how much water each position could trap.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-05-23T07:18:50+03:00">
    <meta property="article:modified_time" content="2025-05-23T07:18:50+03:00">
    <meta property="article:tag" content="LeetCode">
    <meta property="article:tag" content="150">
    <meta property="article:tag" content="Trapping Rain Water">
    <meta property="article:tag" content="Swift">
      <meta property="og:image" content="http://localhost:1313/images/papermod-cover.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png">
<meta name="twitter:title" content="LeetCode - 150 - Trapping Rain Water">
<meta name="twitter:description" content="The problem
Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it can trap after raining.
Examples

    
    
    
        
    

Input: height = [0,1,0,2,1,0,1,3,2,1,2,1]
Output: 6
Explanation: The above elevation map (black section) is represented by array [0,1,0,2,1,0,1,3,2,1,2,1]. In this case, 6 units of rain water (blue section) are being trapped.
Input: height = [4,2,0,3,2,5]
Output: 9
Constraints

n == height.length
1 &lt;= n &lt;= 2 * 10^4
0 &lt;= height[i] &lt;= 10^5

Explanation
Let&rsquo;s look at our example and determine the algorithm of how much water each position could trap.

    
    
    
        
    
">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "LeetCode - 150 - Trapping Rain Water",
      "item": "http://localhost:1313/posts/leetcode-150-trapping-rain-water/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "LeetCode - 150 - Trapping Rain Water",
  "name": "LeetCode - 150 - Trapping Rain Water",
  "description": "The problem Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it can trap after raining.\nExamples Input: height = [0,1,0,2,1,0,1,3,2,1,2,1] Output: 6 Explanation: The above elevation map (black section) is represented by array [0,1,0,2,1,0,1,3,2,1,2,1]. In this case, 6 units of rain water (blue section) are being trapped. Input: height = [4,2,0,3,2,5] Output: 9 Constraints n == height.length 1 \u0026lt;= n \u0026lt;= 2 * 10^4 0 \u0026lt;= height[i] \u0026lt;= 10^5 Explanation Let\u0026rsquo;s look at our example and determine the algorithm of how much water each position could trap.\n",
  "keywords": [
    "LeetCode", "150", "Trapping Rain Water", "Swift"
  ],
  "articleBody": "The problem Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it can trap after raining.\nExamples Input: height = [0,1,0,2,1,0,1,3,2,1,2,1] Output: 6 Explanation: The above elevation map (black section) is represented by array [0,1,0,2,1,0,1,3,2,1,2,1]. In this case, 6 units of rain water (blue section) are being trapped. Input: height = [4,2,0,3,2,5] Output: 9 Constraints n == height.length 1 \u003c= n \u003c= 2 * 10^4 0 \u003c= height[i] \u003c= 10^5 Explanation Let’s look at our example and determine the algorithm of how much water each position could trap.\nIn the picture, you can see that no matter how much water you put at the position of zero, it will spill out because there are no boundaries on the left. The same goes for position one, because no matter how much water you put on top of the block with height 1, it’s not going to trap water, since there is no boundary to its left and the water is going to spill out. In the third position, we have one block of water. If we try to add a second block of water, we can see that we have a right boundary of 2 on the right, but on the left side we only have a boundary with height 1, meaning that water will spill out. So we see that the height on the right is 2, and the height on the left is 1, so we need to take the minimum of 1 and 2 - (min(1, 2)). Prefix \u0026 Suffix Arrays Solution func trap(_ height: [Int]) -\u003e Int { let n = height.count if n == 0 { return 0 } var leftMax = Array(repeating: 0, count: n) var rightMax = Array(repeating: 0, count: n) leftMax[0] = height[0] for i in 1 ..\u003c n { leftMax[i] = max(leftMax[i - 1], height[i]) } rightMax[n - 1] = height[n - 1] for i in stride(from: n - 2, to: -1, by: -1) { rightMax[i] = max(rightMax[i + 1], height[i]) } var res = 0 for i in 0 ..\u003c n { res += min(leftMax[i], rightMax[i]) - height[i] } return res } Explanation Above, we discussed our bottleneck (how much water we were able to trap) for every single position.\nWe need the max height on the left and max height on the right, and we need to take the minimum of those two. Let’s take a look at the position of 3.\nWe can’t trap any water here, because when you look at the right section, the maximum height is 3. When you look at the left section, the maximum height there is 1. The calculation will look like this:\nWe are going to take the minimum of the left height and right height and subtract the current height (min(L, R) - h[i]). This will help us determine how much water we can trap at position i. If, for example, we have L = 1, R = 3, and current height h[i] = 2, the result will be min(L, R) - h[i] = -1. The negative value tells us that we can trap zero water at position h[i]. We will continue to use this calculation to get the appropriate water count, and when we take the sum of all the calculated values, we will get our result.\nNow we can dive into the implementation.\nSince for every single position, to know how much water we can trap at index i, we need to know what the max left and right heights are at every single position. We can make an array and store the calculation for us.\nTo do that:\nWe are going to scan through the entire array, calculating every single maxLeft position. We are also going to calculate maxRight in reverse order. Lastly, we are going to take the minimum of max left and max right, because the minimum is going to help us determine how much water is trapped at a specific position. So now, for every single position, we are going to determine how much water we can trap. We can do it with our calculation: min(L, R) - h[i].\nThis solution will take O(n) time and space complexity. It’s a very efficient solution, but we can optimize it even further by reducing memory.\nTime/Space complexity Time complexity: O(n) Space complexity: O(n) Solution func trap(_ height: [Int]) -\u003e Int { let n = height.count if n == 0 { return 0 } var l = 0 var r = n - 1 var res = 0 var leftMax = height[l] var rightMax = height[r] while l \u003c r { if leftMax \u003c rightMax { l += 1 leftMax = max(leftMax, height[l]) res += leftMax - height[l] } else { r -= 1 rightMax = max(rightMax, height[r]) res += rightMax - height[r] } } return res } Explanation From the previous solution, we learn that we can get rid of extra memory by using the two-pointer technique.\nWe are going to have a left pointer at the beginning of the array, and a right pointer at the end of the array. We are also going to have two variables: maxLeft and maxRight, which are going to keep track of the max of the left pointer and max of the right pointer. Now we are going to update our pointers. We are going to shift the pointer that has the smaller max value. When our maxLeft and maxRight are equal, it does not matter which pointer we shift, so we can choose one of them. We continue calculating our result by shifting pointers. At height 2, we are going to update our right pointer because our maxL value is greater than maxR. After that, our maxL and maxR are equal again, and we will be updating the left pointer. We will continue doing this operation until the condition left \u003c right is no longer satisfied. Time/Space complexity Time complexity: O(n) Space complexity: O(1) Thank you for reading! 😊 ",
  "wordCount" : "1001",
  "inLanguage": "en",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "2025-05-23T07:18:50+03:00",
  "dateModified": "2025-05-23T07:18:50+03:00",
  "author":{
    "@type": "Person",
    "name": "Dmytro Chumakov"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/leetcode-150-trapping-rain-water/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Dmytro's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Dmytro&#39;s Blog (Alt + H)">Dmytro&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>

        
        <button id="menu-trigger" aria-haspopup="menu" aria-label="Menu Button">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        </button>
        <ul class="menu hidden">
            <li>
                <a href="http://localhost:1313/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      LeetCode - 150 - Trapping Rain Water
    </h1>
    <div class="post-meta"><span title='2025-05-23 07:18:50 +0300 EEST'>May 23, 2025</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Dmytro Chumakov

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#the-problem" aria-label="The problem">The problem</a><ul>
                        
                <li>
                    <a href="#examples" aria-label="Examples">Examples</a></li>
                <li>
                    <a href="#constraints" aria-label="Constraints">Constraints</a></li>
                <li>
                    <a href="#explanation" aria-label="Explanation">Explanation</a></li></ul>
                </li>
                <li>
                    <a href="#prefix--suffix-arrays-solution" aria-label="Prefix &amp; Suffix Arrays Solution">Prefix &amp; Suffix Arrays Solution</a><ul>
                        
                <li>
                    <a href="#explanation-1" aria-label="Explanation">Explanation</a></li>
                <li>
                    <a href="#timespace-complexity" aria-label="Time/Space complexity">Time/Space complexity</a></li></ul>
                </li>
                <li>
                    <a href="#solution" aria-label="Solution">Solution</a><ul>
                        
                <li>
                    <a href="#explanation-2" aria-label="Explanation">Explanation</a></li>
                <li>
                    <a href="#timespace-complexity-1" aria-label="Time/Space complexity">Time/Space complexity</a></li>
                <li>
                    <a href="#thank-you-for-reading-" aria-label="Thank you for reading! 😊">Thank you for reading! 😊</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h3 id="the-problem">The problem<a hidden class="anchor" aria-hidden="true" href="#the-problem">#</a></h3>
<p>Given <code>n</code> non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it can trap after raining.</p>
<h4 id="examples">Examples<a hidden class="anchor" aria-hidden="true" href="#examples">#</a></h4>
<p>
    
    <input type="checkbox" id="zoomCheck-ed9e8" hidden>
    <label for="zoomCheck-ed9e8">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/rainwatertrap.png#center" alt="alt image" 
             />
    </label>
</p>
<pre tabindex="0"><code>Input: height = [0,1,0,2,1,0,1,3,2,1,2,1]
Output: 6
Explanation: The above elevation map (black section) is represented by array [0,1,0,2,1,0,1,3,2,1,2,1]. In this case, 6 units of rain water (blue section) are being trapped.
</code></pre><pre tabindex="0"><code>Input: height = [4,2,0,3,2,5]
Output: 9
</code></pre><h4 id="constraints">Constraints<a hidden class="anchor" aria-hidden="true" href="#constraints">#</a></h4>
<ul>
<li>n == height.length</li>
<li>1 &lt;= n &lt;= 2 * 10^4</li>
<li>0 &lt;= height[i] &lt;= 10^5</li>
</ul>
<h4 id="explanation">Explanation<a hidden class="anchor" aria-hidden="true" href="#explanation">#</a></h4>
<p>Let&rsquo;s look at our example and determine the algorithm of how much water each position could trap.<br>

    
    <input type="checkbox" id="zoomCheck-ada9c" hidden>
    <label for="zoomCheck-ada9c">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/42.png#center" alt="alt image" 
             />
    </label>
</p>
<ul>
<li>In the picture, you can see that no matter how much water you put at the position of <strong>zero</strong>, it will spill out because there are no boundaries on the left.</li>
<li>The same goes for position <strong>one</strong>, because no matter how much water you put on top of the block with height <code>1</code>, it&rsquo;s not going to trap water, since there is no boundary to its left and the water is going to spill out.</li>
<li>In the <strong>third</strong> position, we have <strong>one</strong> block of water. If we try to add a second block of water, we can see that we have a right boundary of <code>2</code> on the right, but on the left side we only have a boundary with height <code>1</code>, meaning that water will spill out.</li>
<li>So we see that the height on the right is <code>2</code>, and the height on the left is <code>1</code>, so we need to take the <code>minimum</code> of <code>1</code> and <code>2</code> - (<code>min(1, 2)</code>).</li>
</ul>
<h3 id="prefix--suffix-arrays-solution">Prefix &amp; Suffix Arrays Solution<a hidden class="anchor" aria-hidden="true" href="#prefix--suffix-arrays-solution">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">trap</span><span class="p">(</span><span class="kc">_</span> <span class="n">height</span><span class="p">:</span> <span class="p">[</span><span class="nb">Int</span><span class="p">])</span> <span class="p">-&gt;</span> <span class="nb">Int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nv">n</span> <span class="p">=</span> <span class="n">height</span><span class="p">.</span><span class="bp">count</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">n</span> <span class="p">==</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">leftMax</span> <span class="p">=</span> <span class="nb">Array</span><span class="p">(</span><span class="n">repeating</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">count</span><span class="p">:</span> <span class="n">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">rightMax</span> <span class="p">=</span> <span class="nb">Array</span><span class="p">(</span><span class="n">repeating</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">count</span><span class="p">:</span> <span class="n">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">leftMax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="n">height</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">1</span> <span class="p">..</span><span class="o">&lt;</span> <span class="n">n</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">leftMax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="bp">max</span><span class="p">(</span><span class="n">leftMax</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">rightMax</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="n">height</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="bp">stride</span><span class="p">(</span><span class="n">from</span><span class="p">:</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">to</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">by</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">rightMax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="bp">max</span><span class="p">(</span><span class="n">rightMax</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">res</span> <span class="p">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">0</span> <span class="p">..</span><span class="o">&lt;</span> <span class="n">n</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">res</span> <span class="o">+=</span> <span class="bp">min</span><span class="p">(</span><span class="n">leftMax</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">rightMax</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">-</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">res</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="explanation-1">Explanation<a hidden class="anchor" aria-hidden="true" href="#explanation-1">#</a></h4>
<p>Above, we discussed our bottleneck (how much water we were able to trap) for every single position.</p>
<ul>
<li>We need the <code>max</code> height on the left and <code>max</code> height on the right, and we need to take the minimum of those two.</li>
</ul>
<p>
    
    <input type="checkbox" id="zoomCheck-149bf" hidden>
    <label for="zoomCheck-149bf">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/42-1.png#center" alt="alt image" 
             />
    </label>
<br>
Let&rsquo;s take a look at the position of <code>3</code>.</p>
<ul>
<li>We can’t trap any water here, because when you look at the right section, the maximum height is <code>3</code>.</li>
<li>When you look at the left section, the maximum height there is <code>1</code>.</li>
</ul>
<p>The calculation will look like this:</p>
<ul>
<li>We are going to take the minimum of the left height and right height and subtract the current height (<code>min(L, R) - h[i]</code>). This will help us determine how much water we can trap at position <code>i</code>.</li>
</ul>
<p>If, for example, we have <code>L = 1</code>, <code>R = 3</code>, and current height <code>h[i] = 2</code>, the result will be <code>min(L, R) - h[i] = -1</code>. The negative value tells us that we can trap <strong>zero</strong> water at position <code>h[i]</code>. We will continue to use this calculation to get the appropriate water count, and when we take the sum of all the calculated values, we will get our result.</p>
<p>Now we can dive into the implementation.<br>

    
    <input type="checkbox" id="zoomCheck-435c2" hidden>
    <label for="zoomCheck-435c2">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/42-2.png#center" alt="alt image" 
             />
    </label>
</p>
<p>Since for every single position, to know how much water we can trap at index <code>i</code>, we need to know what the max left and right heights are at every single position. We can make an array and store the calculation for us.<br>
To do that:</p>
<ul>
<li>We are going to scan through the entire array, calculating every single <strong>maxLeft</strong> position.</li>
<li>We are also going to calculate <strong>maxRight</strong> in reverse order.</li>
<li>Lastly, we are going to take the <strong>minimum</strong> of max <strong>left</strong> and max <strong>right</strong>, because the minimum is going to help us determine how much water is trapped at a specific position.</li>
</ul>
<p>So now, for every single position, we are going to determine how much water we can trap. We can do it with our calculation: <code>min(L, R) - h[i]</code>.<br>

    
    <input type="checkbox" id="zoomCheck-59f13" hidden>
    <label for="zoomCheck-59f13">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/42-3.png#center" alt="alt image" 
             />
    </label>
</p>
<p>This solution will take O(n) time and space complexity. It&rsquo;s a very efficient solution, but we can optimize it even further by reducing memory.</p>
<h4 id="timespace-complexity">Time/Space complexity<a hidden class="anchor" aria-hidden="true" href="#timespace-complexity">#</a></h4>
<ul>
<li>Time complexity: O(n)</li>
<li>Space complexity: O(n)</li>
</ul>
<h3 id="solution">Solution<a hidden class="anchor" aria-hidden="true" href="#solution">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">trap</span><span class="p">(</span><span class="kc">_</span> <span class="n">height</span><span class="p">:</span> <span class="p">[</span><span class="nb">Int</span><span class="p">])</span> <span class="p">-&gt;</span> <span class="nb">Int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">let</span> <span class="nv">n</span> <span class="p">=</span> <span class="n">height</span><span class="p">.</span><span class="bp">count</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">n</span> <span class="p">==</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">l</span> <span class="p">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">r</span> <span class="p">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">res</span> <span class="p">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">leftMax</span> <span class="p">=</span> <span class="n">height</span><span class="p">[</span><span class="n">l</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">rightMax</span> <span class="p">=</span> <span class="n">height</span><span class="p">[</span><span class="n">r</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="n">l</span> <span class="o">&lt;</span> <span class="n">r</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">leftMax</span> <span class="o">&lt;</span> <span class="n">rightMax</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">l</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="n">leftMax</span> <span class="p">=</span> <span class="bp">max</span><span class="p">(</span><span class="n">leftMax</span><span class="p">,</span> <span class="n">height</span><span class="p">[</span><span class="n">l</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">            <span class="n">res</span> <span class="o">+=</span> <span class="n">leftMax</span> <span class="o">-</span> <span class="n">height</span><span class="p">[</span><span class="n">l</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">r</span> <span class="o">-=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="n">rightMax</span> <span class="p">=</span> <span class="bp">max</span><span class="p">(</span><span class="n">rightMax</span><span class="p">,</span> <span class="n">height</span><span class="p">[</span><span class="n">r</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">            <span class="n">res</span> <span class="o">+=</span> <span class="n">rightMax</span> <span class="o">-</span> <span class="n">height</span><span class="p">[</span><span class="n">r</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">res</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="explanation-2">Explanation<a hidden class="anchor" aria-hidden="true" href="#explanation-2">#</a></h4>
<p>From the previous solution, we learn that we can get rid of extra memory by using the two-pointer technique.<br>

    
    <input type="checkbox" id="zoomCheck-3c7b1" hidden>
    <label for="zoomCheck-3c7b1">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/42-4.png#center" alt="alt image" 
             />
    </label>
</p>
<ul>
<li>We are going to have a <strong>left</strong> pointer at the beginning of the array, and a <strong>right</strong> pointer at the end of the array.</li>
<li>We are also going to have two variables: <strong>maxLeft</strong> and <strong>maxRight</strong>, which are going to keep track of the max of the left pointer and max of the right pointer.</li>
<li>Now we are going to update our pointers. We are going to shift the pointer that has the smaller max value.</li>
<li>When our maxLeft and maxRight are equal, it does not matter which pointer we shift, so we can choose one of them.</li>
<li>We continue calculating our result by shifting pointers.</li>
<li>At height <code>2</code>, we are going to update our right pointer because our <strong>maxL</strong> value is greater than <strong>maxR</strong>.</li>
<li>After that, our <strong>maxL</strong> and <strong>maxR</strong> are equal again, and we will be updating the left pointer.</li>
<li>We will continue doing this operation until the condition <strong>left &lt; right</strong> is no longer satisfied.</li>
</ul>
<h4 id="timespace-complexity-1">Time/Space complexity<a hidden class="anchor" aria-hidden="true" href="#timespace-complexity-1">#</a></h4>
<ul>
<li>Time complexity: O(n)</li>
<li>Space complexity: O(1)</li>
</ul>
<h4 id="thank-you-for-reading-">Thank you for reading! 😊<a hidden class="anchor" aria-hidden="true" href="#thank-you-for-reading-">#</a></h4>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/leetcode/">LeetCode</a></li>
      <li><a href="http://localhost:1313/tags/150/">150</a></li>
      <li><a href="http://localhost:1313/tags/trapping-rain-water/">Trapping Rain Water</a></li>
      <li><a href="http://localhost:1313/tags/swift/">Swift</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/leetcode-150-permutation-in-string/">
    <span class="title">« Prev</span>
    <br>
    <span>LeetCode - 150 - Permutation in String</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/leetcode-150-two-sum-ii-input-array-is-sorted/">
    <span class="title">Next »</span>
    <br>
    <span>LeetCode - 150 - Two Sum II - Input Array Is Sorted</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share LeetCode - 150 - Trapping Rain Water on x"
            href="https://x.com/intent/tweet/?text=LeetCode%20-%20150%20-%20Trapping%20Rain%20Water&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-trapping-rain-water%2f&amp;hashtags=LeetCode%2c150%2cTrappingRainWater%2cSwift">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share LeetCode - 150 - Trapping Rain Water on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-trapping-rain-water%2f&amp;title=LeetCode%20-%20150%20-%20Trapping%20Rain%20Water&amp;summary=LeetCode%20-%20150%20-%20Trapping%20Rain%20Water&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-trapping-rain-water%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share LeetCode - 150 - Trapping Rain Water on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-trapping-rain-water%2f&title=LeetCode%20-%20150%20-%20Trapping%20Rain%20Water">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share LeetCode - 150 - Trapping Rain Water on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-trapping-rain-water%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share LeetCode - 150 - Trapping Rain Water on whatsapp"
            href="https://api.whatsapp.com/send?text=LeetCode%20-%20150%20-%20Trapping%20Rain%20Water%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-trapping-rain-water%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share LeetCode - 150 - Trapping Rain Water on telegram"
            href="https://telegram.me/share/url?text=LeetCode%20-%20150%20-%20Trapping%20Rain%20Water&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-trapping-rain-water%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share LeetCode - 150 - Trapping Rain Water on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=LeetCode%20-%20150%20-%20Trapping%20Rain%20Water&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-trapping-rain-water%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer><div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'dmytros-blog';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Dmytro&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><script>
    
    
    let b = document.querySelector("#menu-trigger")
    let m = document.querySelector(".menu")
    b.addEventListener("click", function () {
        m.classList.toggle("hidden")
    });
    
    document.body.addEventListener('click', function (event) {
        if (!b.contains(event.target)) {
            m.classList.add("hidden")
        }
    });
    
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>

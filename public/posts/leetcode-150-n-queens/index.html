<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>LeetCode - 150 - N-Queens | Dmytro&#39;s Blog</title>
<meta name="keywords" content="LeetCode, 150, N-Queens, Swift">
<meta name="description" content="The problem
The n-queens puzzle is the problem of placing n queens on an n x n chessboard such that no two queens attack each other.
Given an integer n, return all distinct solutions to the n-queens puzzle. You may return the answer in any order.
Each solution contains a distinct board configuration of the n-queens&rsquo; placement, where &#39;Q&#39; and &#39;.&#39; both indicate a queen and an empty space, respectively.">
<meta name="author" content="Dmytro Chumakov">
<link rel="canonical" href="http://localhost:1313/posts/leetcode-150-n-queens/">
<meta name="google-site-verification" content="G-HZZ4JTFGDP">
<link crossorigin="anonymous" href="/assets/css/stylesheet.23830bf4d3e301f84ac90cdafb3d702aa1cfa9dc93f20f2e37f8d775f06aea85.css" integrity="sha256-I4ML9NPjAfhKyQza&#43;z1wKqHPqdyT8g8uN/jXdfBq6oU=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/leetcode-150-n-queens/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><style>
    @media screen and (min-width: 769px) {
         
        .post-content input[type="checkbox"]:checked ~ label > img {
            transform: scale(1.6);
            cursor: zoom-out;
            position: relative;
            z-index: 999;
        }
    
        .post-content img.zoomCheck {
            transition: transform 0.15s ease;
            z-index: 999;
            cursor: zoom-in;
        }
    }
    </style>
    
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-HZZ4JTFGDP"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-HZZ4JTFGDP');
        }
      </script><meta property="og:url" content="http://localhost:1313/posts/leetcode-150-n-queens/">
  <meta property="og:site_name" content="Dmytro&#39;s Blog">
  <meta property="og:title" content="LeetCode - 150 - N-Queens">
  <meta property="og:description" content="The problem The n-queens puzzle is the problem of placing n queens on an n x n chessboard such that no two queens attack each other.
Given an integer n, return all distinct solutions to the n-queens puzzle. You may return the answer in any order.
Each solution contains a distinct board configuration of the n-queens’ placement, where &#39;Q&#39; and &#39;.&#39; both indicate a queen and an empty space, respectively.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-09-26T08:01:26+03:00">
    <meta property="article:modified_time" content="2025-09-26T08:01:26+03:00">
    <meta property="article:tag" content="LeetCode">
    <meta property="article:tag" content="150">
    <meta property="article:tag" content="N-Queens">
    <meta property="article:tag" content="Swift">
      <meta property="og:image" content="http://localhost:1313/images/papermod-cover.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png">
<meta name="twitter:title" content="LeetCode - 150 - N-Queens">
<meta name="twitter:description" content="The problem
The n-queens puzzle is the problem of placing n queens on an n x n chessboard such that no two queens attack each other.
Given an integer n, return all distinct solutions to the n-queens puzzle. You may return the answer in any order.
Each solution contains a distinct board configuration of the n-queens&rsquo; placement, where &#39;Q&#39; and &#39;.&#39; both indicate a queen and an empty space, respectively.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "LeetCode - 150 - N-Queens",
      "item": "http://localhost:1313/posts/leetcode-150-n-queens/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "LeetCode - 150 - N-Queens",
  "name": "LeetCode - 150 - N-Queens",
  "description": "The problem The n-queens puzzle is the problem of placing n queens on an n x n chessboard such that no two queens attack each other.\nGiven an integer n, return all distinct solutions to the n-queens puzzle. You may return the answer in any order.\nEach solution contains a distinct board configuration of the n-queens\u0026rsquo; placement, where 'Q' and '.' both indicate a queen and an empty space, respectively.\n",
  "keywords": [
    "LeetCode", "150", "N-Queens", "Swift"
  ],
  "articleBody": "The problem The n-queens puzzle is the problem of placing n queens on an n x n chessboard such that no two queens attack each other.\nGiven an integer n, return all distinct solutions to the n-queens puzzle. You may return the answer in any order.\nEach solution contains a distinct board configuration of the n-queens’ placement, where 'Q' and '.' both indicate a queen and an empty space, respectively.\nExamples Input: n = 4 Output: [[\".Q..\",\"...Q\",\"Q...\",\"..Q.\"],[\"..Q.\",\"Q...\",\"...Q\",\".Q..\"]] Explanation: There exist two distinct solutions to the 4-queens puzzle as shown above Input: n = 1 Output: [[\"Q\"]] Constraints 1 \u003c= n \u003c= 9 Explanation From the description of the problem we learn that we are given n different queens and we need to place them in a way that they don’t attack each other.\nBefore we go solving this problem, let’s refresh our memory of how a queen can move on the board, this will help us come up with base cases and figure out the result of our problem. The queen is allowed to move:\nIn any direction horizontally to the left or to the right It can move in any direction vertically up or down It can also move diagonally Now when we refreshed our memory about queen moves, we need to place queens in such ways that they don’t attack each other.\nAt this point we know that a queen can go horizontally, therefore every queen must be placed in a different row We also know that a queen can move vertically, therefore we must place every queen in a separate column Lastly, the queen can move diagonally, and this is the hardest part, because each queen must be on a separate diagonal Now we can try to figure out a way to solve this problem by visualizing an example with n = 4\nThe brute force way to solve this problem is to try to put a queen at each position in our grid, but it’s very expensive in terms of time complexity because each queen placement will take O(n^2) Backtracking Solution func solveNQueens(_ n: Int) -\u003e [[String]] { var col: Set\u003cInt\u003e = [] var posDiag: Set\u003cInt\u003e = [] var negDiag: Set\u003cInt\u003e = [] var res: [[String]] = [] var board = Array(repeating: Array(repeating: \".\", count: n), count: n) func backtrack(_ r: Int) { if r == n { let copy = board.map { $0.joined() } res.append(copy) return } for c in 0 ..\u003c n { if col.contains(c) || posDiag.contains(r + c) || negDiag.contains(r - c) { continue } col.insert(c) posDiag.insert(r + c) negDiag.insert(r - c) board[r][c] = \"Q\" backtrack(r + 1) col.remove(c) posDiag.remove(r + c) negDiag.remove(r - c) board[r][c] = \".\" } } backtrack(0) return res } Explanation Above we discussed the brute-force way of solving this problem, now we can optimize it to O(n) time by using queen placement rules on the board that we recently refreshed. For the first row we can decide to put the queen in any position in this row When we move to the second row we can put the queen anywhere in that row except the position that we chose in the first row, because queens will be in the same column. To do that we will maintain a hashset with columns where we have already placed our queens.\nWe will also keep track of hashsets with positive diagonal and negative diagonal. Let’s look at how we can calculate the negative diagonal If we start from the top left position and then we go diagonally bottom right, we start from position 0, 0 and then move to position 1, 1, then to position 2, 2. You can see that each time we increase the column number we also increase the row number, therefore we can put it into the formula row - column. When we go diagonally we increase column by 1 and increase the row by 1.\nWe can prove that the formula row - column is going to work by using different examples: For the diagonal that starts from position 0, 0 every value will be 0, because 0 - 0 = 0, 1 - 1 = 0 etc. For the diagonal that starts from position 1, 0 every value will be equal to 1, because 1 - 0 = 1 , 2 - 1 = 1 etc. You see that we proved that the formula row - column works for the negative diagonal, now let’s figure out what formula we can use for the positive diagonal.\nLet’s start our positive diagonal from the bottom left position with indices 3, 0 and finish it at position 0, 3 You can see that when we are trying to move on the positive diagonal we increase the column by 1 but we decrease the row by 1, therefore our formula row - column won’t work, instead we will use the formula row + column. We can prove it by looking at examples For the positive diagonal that starts from position 3, 0 every value will be equal to 3, because 3 + 0 = 3, 2 + 1 = 3 etc. For the diagonal that starts from 2, 0 every value will be equal to 2, 2 + 0 = 2, 1 + 1 = 2, etc. Now you can see that we only need three hashsets: columns, positive diagonal, negative diagonal to solve this problem.\nWe will start brute forcing this solution by placing queens using a decision tree At first we are going to try each position in the first row, where we have four choices 0, 1, 2, 3 Next, we will continue doing the same operation, but now we are going to check if a queen has already been placed into the column set or negative diagonal set or positive diagonal set. If a queen has been placed in one of those sets this means that the queens’ paths overlap and we can’t place it at this position. For example, if we decided to place the first queen at 0 position in the first row, then we want to place another queen in the second row:\nWe know that we have four choices 0, 1, 2, 3, but as you can see we can’t place the second queen at position 1, 0 because we already have a queen at column = 0 If we try to place the second queen at position 1, 1 we can’t do it because it overlaps with the first queen on the negative diagonal Lastly, we can place the queen at position 1, 2 or 1, 3 because it does not overlap with the positive diagonal or negative diagonal and they are not in the same column This algorithm will work for the entire grid.\nTime/ Space complexity Time complexity: O(n!) Space complexity: O(n^2) Thank you for reading! 😊 ",
  "wordCount" : "1139",
  "inLanguage": "en",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "2025-09-26T08:01:26+03:00",
  "dateModified": "2025-09-26T08:01:26+03:00",
  "author":{
    "@type": "Person",
    "name": "Dmytro Chumakov"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/leetcode-150-n-queens/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Dmytro's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Dmytro&#39;s Blog (Alt + H)">Dmytro&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>

        
        <button id="menu-trigger" aria-haspopup="menu" aria-label="Menu Button">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        </button>
        <ul class="menu hidden">
            <li>
                <a href="http://localhost:1313/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      LeetCode - 150 - N-Queens
    </h1>
    <div class="post-meta"><span title='2025-09-26 08:01:26 +0300 EEST'>September 26, 2025</span>&nbsp;·&nbsp;<span>6 min</span>&nbsp;·&nbsp;<span>Dmytro Chumakov</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#the-problem" aria-label="The problem">The problem</a><ul>
                        
                <li>
                    <a href="#examples" aria-label="Examples">Examples</a></li>
                <li>
                    <a href="#constraints" aria-label="Constraints">Constraints</a></li>
                <li>
                    <a href="#explanation" aria-label="Explanation">Explanation</a></li></ul>
                </li>
                <li>
                    <a href="#backtracking-solution" aria-label="Backtracking Solution">Backtracking Solution</a><ul>
                        
                <li>
                    <a href="#explanation-1" aria-label="Explanation">Explanation</a></li>
                <li>
                    <a href="#time-space-complexity" aria-label="Time/ Space complexity">Time/ Space complexity</a></li>
                <li>
                    <a href="#thank-you-for-reading-" aria-label="Thank you for reading! 😊">Thank you for reading! 😊</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h3 id="the-problem">The problem<a hidden class="anchor" aria-hidden="true" href="#the-problem">#</a></h3>
<p>The n-queens puzzle is the problem of placing <code>n</code> queens on an <code>n x n</code> chessboard such that no two queens attack each other.</p>
<p>Given an integer n, return all distinct solutions to the <code>n</code>-queens puzzle. You may return the answer in any order.</p>
<p>Each solution contains a distinct board configuration of the n-queens&rsquo; placement, where <code>'Q'</code> and <code>'.'</code> both indicate a queen and an empty space, respectively.</p>
<h4 id="examples">Examples<a hidden class="anchor" aria-hidden="true" href="#examples">#</a></h4>
<p>
    
    <input type="checkbox" id="zoomCheck-009c4" hidden>
    <label for="zoomCheck-009c4">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/queens.jpg#center" alt="alt image" 
             />
    </label>
</p>
<pre tabindex="0"><code>Input: n = 4
Output: [[&#34;.Q..&#34;,&#34;...Q&#34;,&#34;Q...&#34;,&#34;..Q.&#34;],[&#34;..Q.&#34;,&#34;Q...&#34;,&#34;...Q&#34;,&#34;.Q..&#34;]]
Explanation: There exist two distinct solutions to the 4-queens puzzle as shown above
</code></pre><pre tabindex="0"><code>Input: n = 1
Output: [[&#34;Q&#34;]]
</code></pre><h4 id="constraints">Constraints<a hidden class="anchor" aria-hidden="true" href="#constraints">#</a></h4>
<ul>
<li>1 &lt;= n &lt;= 9</li>
</ul>
<h4 id="explanation">Explanation<a hidden class="anchor" aria-hidden="true" href="#explanation">#</a></h4>
<p>From the description of the problem we learn that we are given <code>n</code> different queens and we need to place them in a way that they don’t attack each other.</p>
<p>Before we go solving this problem, let’s refresh our memory of how a queen can move on the board, this will help us come up with base cases and figure out the result of our problem.

    
    <input type="checkbox" id="zoomCheck-3efa7" hidden>
    <label for="zoomCheck-3efa7">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/51.png#center" alt="alt image" 
             />
    </label>

The queen is allowed to move:</p>
<ul>
<li>In any direction horizontally to the left or to the right</li>
<li>It can move in any direction vertically up or down</li>
<li>It can also move diagonally</li>
</ul>
<p>Now when we refreshed our memory about queen moves, we need to place queens in such ways that they don’t attack each other.</p>
<ul>
<li>At this point we know that a queen can go horizontally, therefore every queen must be placed in a different row

    
    <input type="checkbox" id="zoomCheck-38c2c" hidden>
    <label for="zoomCheck-38c2c">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/51-1.png#center" alt="alt image" 
             />
    </label>
</li>
<li>We also know that a queen can move vertically, therefore we must place every queen in a separate column

    
    <input type="checkbox" id="zoomCheck-b2726" hidden>
    <label for="zoomCheck-b2726">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/51-2.png#center" alt="alt image" 
             />
    </label>
</li>
<li>Lastly, the queen can move diagonally, and this is the hardest part, because each queen must be on a separate diagonal

    
    <input type="checkbox" id="zoomCheck-1b579" hidden>
    <label for="zoomCheck-1b579">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/51-3.png#center" alt="alt image" 
             />
    </label>
</li>
</ul>
<p>Now we can try to figure out a way to solve this problem by visualizing an example with <code>n = 4</code></p>
<ul>
<li>The brute force way to solve this problem is to try to put a queen at each position in our grid, but it’s very expensive in terms of time complexity because each queen placement will take <code>O(n^2)</code>

    
    <input type="checkbox" id="zoomCheck-fa6de" hidden>
    <label for="zoomCheck-fa6de">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/51-4.png#center" alt="alt image" 
             />
    </label>
</li>
</ul>
<h3 id="backtracking-solution">Backtracking Solution<a hidden class="anchor" aria-hidden="true" href="#backtracking-solution">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">solveNQueens</span><span class="p">(</span><span class="kc">_</span> <span class="n">n</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="p">[[</span><span class="nb">String</span><span class="p">]]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">col</span><span class="p">:</span> <span class="n">Set</span><span class="p">&lt;</span><span class="nb">Int</span><span class="p">&gt;</span> <span class="p">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">posDiag</span><span class="p">:</span> <span class="n">Set</span><span class="p">&lt;</span><span class="nb">Int</span><span class="p">&gt;</span> <span class="p">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">negDiag</span><span class="p">:</span> <span class="n">Set</span><span class="p">&lt;</span><span class="nb">Int</span><span class="p">&gt;</span> <span class="p">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">res</span><span class="p">:</span> <span class="p">[[</span><span class="nb">String</span><span class="p">]]</span> <span class="p">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nv">board</span> <span class="p">=</span> <span class="nb">Array</span><span class="p">(</span><span class="n">repeating</span><span class="p">:</span> <span class="nb">Array</span><span class="p">(</span><span class="n">repeating</span><span class="p">:</span> <span class="s">&#34;.&#34;</span><span class="p">,</span> <span class="bp">count</span><span class="p">:</span> <span class="n">n</span><span class="p">),</span> <span class="bp">count</span><span class="p">:</span> <span class="n">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">func</span> <span class="nf">backtrack</span><span class="p">(</span><span class="kc">_</span> <span class="n">r</span><span class="p">:</span> <span class="nb">Int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">r</span> <span class="p">==</span> <span class="n">n</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kd">let</span> <span class="nv">copy</span> <span class="p">=</span> <span class="n">board</span><span class="p">.</span><span class="bp">map</span> <span class="p">{</span> <span class="nv">$0</span><span class="p">.</span><span class="n">joined</span><span class="p">()</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">copy</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">c</span> <span class="k">in</span> <span class="mi">0</span> <span class="p">..</span><span class="o">&lt;</span> <span class="n">n</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">col</span><span class="p">.</span><span class="bp">contains</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">||</span> <span class="n">posDiag</span><span class="p">.</span><span class="bp">contains</span><span class="p">(</span><span class="n">r</span> <span class="o">+</span> <span class="n">c</span><span class="p">)</span> <span class="o">||</span> <span class="n">negDiag</span><span class="p">.</span><span class="bp">contains</span><span class="p">(</span><span class="n">r</span> <span class="o">-</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">continue</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">col</span><span class="p">.</span><span class="bp">insert</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">posDiag</span><span class="p">.</span><span class="bp">insert</span><span class="p">(</span><span class="n">r</span> <span class="o">+</span> <span class="n">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">negDiag</span><span class="p">.</span><span class="bp">insert</span><span class="p">(</span><span class="n">r</span> <span class="o">-</span> <span class="n">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">board</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;Q&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">backtrack</span><span class="p">(</span><span class="n">r</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">col</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">posDiag</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">r</span> <span class="o">+</span> <span class="n">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">negDiag</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">r</span> <span class="o">-</span> <span class="n">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">board</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;.&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">backtrack</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">res</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="explanation-1">Explanation<a hidden class="anchor" aria-hidden="true" href="#explanation-1">#</a></h4>
<p>Above we discussed the brute-force way of solving this problem, now we can optimize it to <code>O(n)</code> time by using queen placement rules on the board that we recently refreshed.

    
    <input type="checkbox" id="zoomCheck-7d1dd" hidden>
    <label for="zoomCheck-7d1dd">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/51-5.png#center" alt="alt image" 
             />
    </label>
</p>
<ul>
<li>For the first row we can decide to put the queen in any position in this row</li>
<li>When we move to the second row we can put the queen anywhere in that row except the position that we chose in the first row, because queens will be in the same column.</li>
</ul>
<p>To do that we will maintain a hashset with <code>columns</code> where we have already placed our queens.</p>
<p>We will also keep track of hashsets with <code>positive diagonal</code> and <code>negative diagonal</code>.
Let’s look at how we can calculate the <code>negative diagonal</code>

    
    <input type="checkbox" id="zoomCheck-3eff4" hidden>
    <label for="zoomCheck-3eff4">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/51-6.png#center" alt="alt image" 
             />
    </label>
</p>
<p>If we start from the <code>top left</code> position and then we go diagonally <code>bottom right</code>, we start from position <code>0, 0</code> and then move to position <code>1, 1</code>, then to position <code>2, 2</code>. You can see that each time we increase the <code>column</code> number we also increase the <code>row</code> number, therefore we can put it into the formula <code>row - column</code>. When we go diagonally we increase <code>column</code> by <code>1</code> and increase the <code>row</code> by <code>1</code>.</p>
<p>We can prove that the formula <code>row - column</code> is going to work by using different examples:

    
    <input type="checkbox" id="zoomCheck-14f92" hidden>
    <label for="zoomCheck-14f92">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/51-7.png#center" alt="alt image" 
             />
    </label>
</p>
<ul>
<li>For the diagonal that starts from position <code>0, 0</code> every value will be <code>0</code>, because <code>0 - 0 = 0</code>, <code>1 - 1 = 0</code> etc.</li>
<li>For the diagonal that starts from position <code>1, 0</code> every value will be equal to <code>1</code>, because <code>1 - 0 = 1</code> , <code>2 - 1 = 1</code> etc.</li>
</ul>
<p>You see that we proved that the formula <code>row - column</code> works for the <code>negative diagonal</code>, now let’s figure out what formula we can use for the <code>positive diagonal</code>.</p>
<p>Let’s start our <code>positive diagonal</code> from the <code>bottom left</code> position with indices <code>3, 0</code> and finish it at position <code>0, 3</code>

    
    <input type="checkbox" id="zoomCheck-c880c" hidden>
    <label for="zoomCheck-c880c">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/51-8.png#center" alt="alt image" 
             />
    </label>
</p>
<ul>
<li>You can see that when we are trying to move on the <code>positive diagonal</code> we increase the <code>column</code> by <code>1</code> but we <code>decrease</code> the <code>row</code> by <code>1</code>, therefore our formula <code>row - column</code> won’t work, instead we will use the formula <code>row + column</code>. We can prove it by looking at examples

    
    <input type="checkbox" id="zoomCheck-b1738" hidden>
    <label for="zoomCheck-b1738">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/51-9.png#center" alt="alt image" 
             />
    </label>
</li>
<li>For the <code>positive diagonal</code> that starts from position <code>3, 0</code> every value will be equal to <code>3</code>, because <code>3 + 0 = 3</code>, <code>2 + 1 = 3</code> etc.</li>
<li>For the diagonal that starts from <code>2, 0</code> every value will be equal to <code>2</code>, <code>2 + 0 = 2</code>, <code>1 + 1 = 2</code>, etc.</li>
</ul>
<p>Now you can see that we only need <code>three</code> hashsets: <code>columns</code>, <code>positive diagonal</code>, <code>negative diagonal</code> to solve this problem.</p>
<p>We will start brute forcing this solution by placing queens using a decision tree

    
    <input type="checkbox" id="zoomCheck-245ff" hidden>
    <label for="zoomCheck-245ff">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/51-10.png#center" alt="alt image" 
             />
    </label>
</p>
<ul>
<li>At first we are going to try each position in the <code>first row</code>, where we have <code>four</code> choices <code>0, 1, 2, 3</code></li>
<li>Next, we will continue doing the same operation, but now we are going to check if a queen has already been placed into the <code>column set</code> or <code>negative diagonal set</code> or <code>positive diagonal set</code>. If a queen has been placed in one of those sets this means that the queens’ paths overlap and we can’t place it at this position.</li>
</ul>
<p>
    
    <input type="checkbox" id="zoomCheck-20c73" hidden>
    <label for="zoomCheck-20c73">
        <img class="zoomCheck" loading="lazy" decoding="async" 
            src="images/51-11.png#center" alt="alt image" 
             />
    </label>

For example, if we decided to place the first queen at <code>0</code> position in the first row, then we want to place another queen in the second row:</p>
<ul>
<li>We know that we have four choices <code>0, 1, 2, 3</code>, but as you can see we can’t place the second queen at position <code>1, 0</code> because we already have a queen at <code>column = 0</code></li>
<li>If we try to place the second queen at position <code>1, 1</code> we can’t do it because it overlaps with the first queen on the <code>negative diagonal</code></li>
<li>Lastly, we can place the queen at position <code>1, 2</code> or <code>1, 3</code> because it does not overlap with the <code>positive diagonal</code> or <code>negative diagonal</code> and they are not in the same <code>column</code></li>
</ul>
<p>This algorithm will work for the entire grid.</p>
<h4 id="time-space-complexity">Time/ Space complexity<a hidden class="anchor" aria-hidden="true" href="#time-space-complexity">#</a></h4>
<ul>
<li>Time complexity: O(n!)</li>
<li>Space complexity: O(n^2)</li>
</ul>
<h4 id="thank-you-for-reading-">Thank you for reading! 😊<a hidden class="anchor" aria-hidden="true" href="#thank-you-for-reading-">#</a></h4>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/leetcode/">LeetCode</a></li>
      <li><a href="http://localhost:1313/tags/150/">150</a></li>
      <li><a href="http://localhost:1313/tags/n-queens/">N-Queens</a></li>
      <li><a href="http://localhost:1313/tags/swift/">Swift</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/leetcode-150-reverse-nodes-in-k-group/">
    <span class="title">« Prev</span>
    <br>
    <span>LeetCode - 150 - Reverse Nodes in k-Group</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/leetcode-150-letter-combinations-of-a-phone-number/">
    <span class="title">Next »</span>
    <br>
    <span>LeetCode - 150 - Letter Combinations of a Phone Number</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share LeetCode - 150 - N-Queens on x"
            href="https://x.com/intent/tweet/?text=LeetCode%20-%20150%20-%20N-Queens&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-n-queens%2f&amp;hashtags=LeetCode%2c150%2cN-Queens%2cSwift">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share LeetCode - 150 - N-Queens on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-n-queens%2f&amp;title=LeetCode%20-%20150%20-%20N-Queens&amp;summary=LeetCode%20-%20150%20-%20N-Queens&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-n-queens%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share LeetCode - 150 - N-Queens on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-n-queens%2f&title=LeetCode%20-%20150%20-%20N-Queens">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share LeetCode - 150 - N-Queens on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-n-queens%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share LeetCode - 150 - N-Queens on whatsapp"
            href="https://api.whatsapp.com/send?text=LeetCode%20-%20150%20-%20N-Queens%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-n-queens%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share LeetCode - 150 - N-Queens on telegram"
            href="https://telegram.me/share/url?text=LeetCode%20-%20150%20-%20N-Queens&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-n-queens%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share LeetCode - 150 - N-Queens on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=LeetCode%20-%20150%20-%20N-Queens&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fleetcode-150-n-queens%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer><div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'dmytros-blog';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Dmytro&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><script>
    
    
    let b = document.querySelector("#menu-trigger")
    let m = document.querySelector(".menu")
    b.addEventListener("click", function () {
        m.classList.toggle("hidden")
    });
    
    document.body.addEventListener('click', function (event) {
        if (!b.contains(event.target)) {
            m.classList.add("hidden")
        }
    });
    
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>

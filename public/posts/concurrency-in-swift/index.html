<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Concurrency in Swift | Dmytro&#39;s Blog</title>
<meta name="keywords" content="Swift, Concurrency">
<meta name="description" content="What is concurrency? The system can perform multiple tasks simultaneously. By tasks, I mean code or instructions. Modern computer chips have multiple cores that allow developers to create and run various tasks on multiple cores. Even if your chip has one core operating system it will provide context switching mechanism by enabling it to execute multiple tasks concurrently.
Material about processes, threads I will skip explaining concepts about processes and threads because it is a vast topic, and it will take a lot of time to explain it.">
<meta name="author" content="Dmytro Chumakov">
<link rel="canonical" href="http://localhost:1313/posts/concurrency-in-swift/">
<meta name="google-site-verification" content="G-HZZ4JTFGDP">
<link crossorigin="anonymous" href="/assets/css/stylesheet.ef6b0a8cc044c81f8564fffb013558fc5d5c2910023a80374f705ae86b059bed.css" integrity="sha256-72sKjMBEyB&#43;FZP/7ATVY/F1cKRACOoA3T3Ba6GsFm&#43;0=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/concurrency-in-swift/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><style>
    @media screen and (min-width: 769px) {
         
        .post-content input[type="checkbox"]:checked ~ label > img {
            transform: scale(1.6);
            cursor: zoom-out;
            position: relative;
            z-index: 999;
        }
    
        .post-content img.zoomCheck {
            transition: transform 0.15s ease;
            z-index: 999;
            cursor: zoom-in;
        }
    }
    </style>
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HZZ4JTFGDP"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-HZZ4JTFGDP', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Concurrency in Swift" />
<meta property="og:description" content="What is concurrency? The system can perform multiple tasks simultaneously. By tasks, I mean code or instructions. Modern computer chips have multiple cores that allow developers to create and run various tasks on multiple cores. Even if your chip has one core operating system it will provide context switching mechanism by enabling it to execute multiple tasks concurrently.
Material about processes, threads I will skip explaining concepts about processes and threads because it is a vast topic, and it will take a lot of time to explain it." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/concurrency-in-swift/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-07T00:00:00+03:00" />
<meta property="article:modified_time" content="2024-01-07T00:00:00+03:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="Concurrency in Swift"/>
<meta name="twitter:description" content="What is concurrency? The system can perform multiple tasks simultaneously. By tasks, I mean code or instructions. Modern computer chips have multiple cores that allow developers to create and run various tasks on multiple cores. Even if your chip has one core operating system it will provide context switching mechanism by enabling it to execute multiple tasks concurrently.
Material about processes, threads I will skip explaining concepts about processes and threads because it is a vast topic, and it will take a lot of time to explain it."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Concurrency in Swift",
      "item": "http://localhost:1313/posts/concurrency-in-swift/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Concurrency in Swift",
  "name": "Concurrency in Swift",
  "description": "What is concurrency? The system can perform multiple tasks simultaneously. By tasks, I mean code or instructions. Modern computer chips have multiple cores that allow developers to create and run various tasks on multiple cores. Even if your chip has one core operating system it will provide context switching mechanism by enabling it to execute multiple tasks concurrently.\nMaterial about processes, threads I will skip explaining concepts about processes and threads because it is a vast topic, and it will take a lot of time to explain it.",
  "keywords": [
    "Swift", "Concurrency"
  ],
  "articleBody": "What is concurrency? The system can perform multiple tasks simultaneously. By tasks, I mean code or instructions. Modern computer chips have multiple cores that allow developers to create and run various tasks on multiple cores. Even if your chip has one core operating system it will provide context switching mechanism by enabling it to execute multiple tasks concurrently.\nMaterial about processes, threads I will skip explaining concepts about processes and threads because it is a vast topic, and it will take a lot of time to explain it. I attached links to the material to help you understand it more deeply. https://youtu.be/4rLW7zg21gI?si=49hq8Wrbpmeev41k https://youtu.be/r2__Rw8vu1M?si=b7b257Qu4Bty7OxA I will focus on implementation.\nThe old and modern way of implementing concurrency You can divide concurrency implementation into old or unstructured and modern or structured.\nBy old, I mean GCD (Grand Central Dispatch). By modern, I mean async/await, actor, and Task.\nIn this article, I will talk about the old way. GCD helps you keep your distance from manually managing threads and avoid unnecessary complexity, and it does it by providing API. One of these APIs is DispatchQueue.\nDispatchQueue By default, DispatchQueue is serial; all work on this queue will be executed sequentially. DispatchQueue has access to the main property and the global() method. The main property returns the serial queue associated with the main thread of the current process. The global() method returns a concurrent queue specified by quality-of-service level.\npublic class func global(qos: DispatchQoS.QoSClass = .default) -\u003e DispatchQueue You can pass many parameters when you try to initialize a new queue.\npublic convenience init(label: String, qos: DispatchQoS = .unspecified, attributes: DispatchQueue.Attributes = [], autoreleaseFrequency: DispatchQueue.AutoreleaseFrequency = .inherit, target: DispatchQueue? = nil) Letâ€™s talk about three of them (label, qos, attributes). The first is label, which is used mainly for debugging and identification.\nlet queue = DispatchQueue(label: \"com.example.myqueue\") The second one is qos (Quality Of Service) allows you to choose the priority in which you like to run your task. You can choose between background, utility, default, userInitiated, userIneractive, and unspecified priorities.\n/// qos_class_t public struct DispatchQoS : Equatable { public let qosClass: DispatchQoS.QoSClass public let relativePriority: Int @available(macOS 10.10, iOS 8.0, *) public static let background: DispatchQoS @available(macOS 10.10, iOS 8.0, *) public static let utility: DispatchQoS @available(macOS 10.10, iOS 8.0, *) public static let `default`: DispatchQoS @available(macOS 10.10, iOS 8.0, *) public static let userInitiated: DispatchQoS @available(macOS 10.10, iOS 8.0, *) public static let userInteractive: DispatchQoS public static let unspecified: DispatchQoS } userIneractive has the highest priority; it usually calls when you need to display UI almost immediately.\nbackground, on the other hand, has the lowest priority.\nHow to achieve concurrency with DispatchQueue API? You can use a serial queue with the following: sync functionality allows you to wait until the block you passed finishes its work.\nlet serialQueue = DispatchQueue(label: \"com.example.myqueue.serial\") serialQueue.sync {} async functionality will schedule your work and be executed later in time.\nlet serialQueue = DispatchQueue(label: \"com.example.myqueue.serial\") serialQueue.async {} Or you can use a concurrent queue with similar methods but running your task in parallel.\nlet concurrentQueue = DispatchQueue(label: \"com.example.myqueue.concurrent\", attributes: .concurrent) concurrentQueue.sync {} concurrentQueue.async {} The difference between serial queue and concurrent queue The difference between a serial and concurrent queue is that you should not wait until the concurrent operation finishes work in the async block.\nlet concurrentQueue = DispatchQueue(label: \"com.example.myqueue.concurrent\", attributes: .concurrent) concurrentQueue.sync { for i in 1...5 { print(\"Task \\(i) is running on Concurrent Queue\") sleep(1) // Simulate some work } } concurrentQueue.sync { for i in 6...10 { print(\"Task \\(i) is running on Concurrent Queue\") sleep(1) // Simulate some work } } // prints Task 1 is running on Concurrent Queue Task 6 is running on Concurrent Queue Task 2 is running on Concurrent Queue Task 7 is running on Concurrent Queue Task 3 is running on Concurrent Queue Task 8 is running on Concurrent Queue Task 4 is running on Concurrent Queue Task 9 is running on Concurrent Queue Task 5 is running on Concurrent Queue Task 10 is running on Concurrent Queue The serial queue executes tasks in order, and you should wait until the first async block finishes its work to start the second block.\nlet serialQueue = DispatchQueue(label: \"com.example.myqueue.serual\") serialQueue.sync { for i in 1...5 { print(\"Task \\(i) is running on Serial Queue\") sleep(1) // Simulate some work } } serialQueue.sync { for i in 6...10 { print(\"Task \\(i) is running on Serial Queue\") sleep(1) // Simulate some work } } // prints Task 1 is running on Serial Queue Task 2 is running on Serial Queue Task 3 is running on Serial Queue Task 4 is running on Serial Queue Task 5 is running on Serial Queue Task 6 is running on Serial Queue Task 7 is running on Serial Queue Task 8 is running on Serial Queue Task 9 is running on Serial Queue Task 10 is running on Serial Queue When you try to use the sync functionality, it behaves similarly on serial and concurrent queues by executing each task step by step and waiting till each block finishes its work.\nlet serialQueue = DispatchQueue(label: \"com.example.myqueue.serial\") serialQueue.sync { for i in 1...5 { print(\"Task \\(i) is running on Serial Queue\") sleep(1) // Simulate some work } } serialQueue.sync { for i in 6...10 { print(\"Task \\(i) is running on Serial Queue\") sleep(1) // Simulate some work } } // prints Task 1 is running on Serial Queue Task 2 is running on Serial Queue Task 3 is running on Serial Queue Task 4 is running on Serial Queue Task 5 is running on Serial Queue Task 6 is running on Serial Queue Task 7 is running on Serial Queue Task 8 is running on Serial Queue Task 9 is running on Serial Queue Task 10 is running on Serial Queue let concurrentQueue = DispatchQueue(label: \"com.example.myqueue.concurrent\", attributes: .concurrent) concurrentQueue.sync { for i in 1...5 { print(\"Task \\(i) is running on Concurrent Queue\") sleep(1) // Simulate some work } } concurrentQueue.sync { for i in 6...10 { print(\"Task \\(i) is running on Concurrent Queue\") sleep(1) // Simulate some work } } // prints Task 1 is running on Concurrent Queue Task 2 is running on Concurrent Queue Task 3 is running on Concurrent Queue Task 4 is running on Concurrent Queue Task 5 is running on Concurrent Queue Task 6 is running on Concurrent Queue Task 7 is running on Concurrent Queue Task 8 is running on Concurrent Queue Task 9 is running on Concurrent Queue Task 10 is running on Concurrent Queue ",
  "wordCount" : "1084",
  "inLanguage": "en",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "2024-01-07T00:00:00+03:00",
  "dateModified": "2024-01-07T00:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Dmytro Chumakov"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/concurrency-in-swift/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Dmytro's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Dmytro&#39;s Blog (Alt + H)">Dmytro&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>

        
        <button id="menu-trigger" aria-haspopup="menu" aria-label="Menu Button">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        </button>
        <ul class="menu hidden">
            <li>
                <a href="http://localhost:1313/ios-app-maintenance-service/" title="Services">
                    <span>Services</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/cases/" title="Cases">
                    <span>Cases</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;Â»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Concurrency in Swift
    </h1>
    <div class="post-meta"><span title='2024-01-07 00:00:00 +0300 +0300'>January 7, 2024</span>&nbsp;Â·&nbsp;6 min&nbsp;Â·&nbsp;Dmytro Chumakov

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#what-is-concurrency" aria-label="What is concurrency?">What is concurrency?</a></li>
                <li>
                    <a href="#material-about-processes-threads" aria-label="Material about processes, threads">Material about processes, threads</a></li>
                <li>
                    <a href="#the-old-and-modern-way-of-implementing-concurrency" aria-label="The old and modern way of implementing concurrency">The old and modern way of implementing concurrency</a></li>
                <li>
                    <a href="#dispatchqueue" aria-label="DispatchQueue">DispatchQueue</a></li>
                <li>
                    <a href="#how-to-achieve-concurrency-with-dispatchqueue-api" aria-label="How to achieve concurrency with DispatchQueue API?">How to achieve concurrency with DispatchQueue API?</a></li>
                <li>
                    <a href="#the-difference-between-serial-queue-and-concurrent-queue" aria-label="The difference between serial queue and concurrent queue">The difference between serial queue and concurrent queue</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h3 id="what-is-concurrency">What is concurrency?<a hidden class="anchor" aria-hidden="true" href="#what-is-concurrency">#</a></h3>
<p>The system can perform multiple tasks simultaneously. By tasks, I mean <code>code or instructions</code>.
Modern computer chips have multiple cores that allow developers to create and run various tasks on multiple cores. Even if your chip has one core operating system it will provide context switching mechanism by enabling it to execute multiple tasks concurrently.</p>
<h3 id="material-about-processes-threads">Material about processes, threads<a hidden class="anchor" aria-hidden="true" href="#material-about-processes-threads">#</a></h3>
<p>I will skip explaining concepts about processes and threads because it is a vast topic, and it will take a lot of time to explain it. I attached links to the material to help you understand it more deeply.
<a href="https://youtu.be/4rLW7zg21gI?si=49hq8Wrbpmeev41k">https://youtu.be/4rLW7zg21gI?si=49hq8Wrbpmeev41k</a>
<a href="https://youtu.be/r2__Rw8vu1M?si=b7b257Qu4Bty7OxA">https://youtu.be/r2__Rw8vu1M?si=b7b257Qu4Bty7OxA</a>
I will focus on implementation.</p>
<h3 id="the-old-and-modern-way-of-implementing-concurrency">The <code>old</code> and <code>modern</code> way of implementing concurrency<a hidden class="anchor" aria-hidden="true" href="#the-old-and-modern-way-of-implementing-concurrency">#</a></h3>
<p>You can divide concurrency implementation into <code>old</code> or <code>unstructured</code> and <code>modern</code> or <code>structured</code>.</p>
<p>By <code>old</code>, I mean GCD (Grand Central Dispatch).
By <code>modern</code>, I mean async/await, actor, and Task.</p>
<p>In this article, I will talk about the <code>old</code> way.
GCD helps you keep your distance from manually managing threads and avoid unnecessary complexity, and it does it by providing API.
One of these APIs is DispatchQueue.</p>
<h3 id="dispatchqueue">DispatchQueue<a hidden class="anchor" aria-hidden="true" href="#dispatchqueue">#</a></h3>
<p>By default, <code>DispatchQueue</code> is serial; all work on this queue will be executed sequentially.
<code>DispatchQueue</code> has access to the <code>main</code> property and the <code>global()</code> method.
The <code>main</code> property returns the serial queue associated with the main thread of the current process.
The <code>global()</code> method returns a concurrent queue specified by quality-of-service level.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">func</span> <span class="n">global</span><span class="p">(</span><span class="n">qos</span><span class="p">:</span> <span class="n">DispatchQoS</span><span class="p">.</span><span class="n">QoSClass</span> <span class="p">=</span> <span class="p">.</span><span class="k">default</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">DispatchQueue</span>
</span></span></code></pre></div><p>You can pass many parameters when you try to initialize a new queue.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"> <span class="kd">public</span> <span class="kr">convenience</span> <span class="kd">init</span><span class="p">(</span><span class="n">label</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="n">qos</span><span class="p">:</span> <span class="n">DispatchQoS</span> <span class="p">=</span> <span class="p">.</span><span class="n">unspecified</span><span class="p">,</span> <span class="n">attributes</span><span class="p">:</span> <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">Attributes</span> <span class="p">=</span> <span class="p">[],</span> <span class="n">autoreleaseFrequency</span><span class="p">:</span> <span class="n">DispatchQueue</span><span class="p">.</span><span class="n">AutoreleaseFrequency</span> <span class="p">=</span> <span class="p">.</span><span class="n">inherit</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">DispatchQueue</span><span class="p">?</span> <span class="p">=</span> <span class="kc">nil</span><span class="p">)</span>
</span></span></code></pre></div><p>Letâ€™s talk about three of them (label, qos, attributes).
The first is <code>label,</code> which is used mainly for debugging and identification.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">queue</span> <span class="p">=</span> <span class="n">DispatchQueue</span><span class="p">(</span><span class="n">label</span><span class="p">:</span> <span class="s">&#34;com.example.myqueue&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>The second one is <code>qos</code> (Quality Of Service) allows you to choose the priority in which you like to run your task. You can choose between <code>background</code>, <code>utility</code>, <code>default</code>, <code>userInitiated</code>, <code>userIneractive</code>, and <code>unspecified</code> priorities.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="c1">/// qos_class_t</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">struct</span> <span class="nc">DispatchQoS</span> <span class="p">:</span> <span class="nb">Equatable</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">let</span> <span class="nv">qosClass</span><span class="p">:</span> <span class="n">DispatchQoS</span><span class="p">.</span><span class="n">QoSClass</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">let</span> <span class="nv">relativePriority</span><span class="p">:</span> <span class="nb">Int</span>
</span></span><span class="line"><span class="cl">    <span class="p">@</span><span class="n">available</span><span class="p">(</span><span class="n">macOS</span> <span class="mf">10.10</span><span class="p">,</span> <span class="n">iOS</span> <span class="mf">8.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">let</span> <span class="nv">background</span><span class="p">:</span> <span class="n">DispatchQoS</span>
</span></span><span class="line"><span class="cl">    <span class="p">@</span><span class="n">available</span><span class="p">(</span><span class="n">macOS</span> <span class="mf">10.10</span><span class="p">,</span> <span class="n">iOS</span> <span class="mf">8.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">let</span> <span class="nv">utility</span><span class="p">:</span> <span class="n">DispatchQoS</span>
</span></span><span class="line"><span class="cl">    <span class="p">@</span><span class="n">available</span><span class="p">(</span><span class="n">macOS</span> <span class="mf">10.10</span><span class="p">,</span> <span class="n">iOS</span> <span class="mf">8.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">let</span> <span class="p">`</span><span class="k">default</span><span class="p">`:</span> <span class="n">DispatchQoS</span>
</span></span><span class="line"><span class="cl">    <span class="p">@</span><span class="n">available</span><span class="p">(</span><span class="n">macOS</span> <span class="mf">10.10</span><span class="p">,</span> <span class="n">iOS</span> <span class="mf">8.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">let</span> <span class="nv">userInitiated</span><span class="p">:</span> <span class="n">DispatchQoS</span>
</span></span><span class="line"><span class="cl">    <span class="p">@</span><span class="n">available</span><span class="p">(</span><span class="n">macOS</span> <span class="mf">10.10</span><span class="p">,</span> <span class="n">iOS</span> <span class="mf">8.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">let</span> <span class="nv">userInteractive</span><span class="p">:</span> <span class="n">DispatchQoS</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">let</span> <span class="nv">unspecified</span><span class="p">:</span> <span class="n">DispatchQoS</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><code>userIneractive</code> has the highest priority; it usually calls when you need to display UI almost immediately.</p>
<p><code>background</code>, on the other hand, has the lowest priority.</p>
<h3 id="how-to-achieve-concurrency-with-dispatchqueue-api">How to achieve concurrency with DispatchQueue API?<a hidden class="anchor" aria-hidden="true" href="#how-to-achieve-concurrency-with-dispatchqueue-api">#</a></h3>
<p>You can use a serial queue with the following:
<code>sync</code> functionality allows you to wait until the block you passed finishes its work.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">serialQueue</span> <span class="p">=</span> <span class="n">DispatchQueue</span><span class="p">(</span><span class="n">label</span><span class="p">:</span> <span class="s">&#34;com.example.myqueue.serial&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">serialQueue</span><span class="p">.</span><span class="n">sync</span> <span class="p">{}</span>
</span></span></code></pre></div><p><code>async</code> functionality will <code>schedule</code> your work and be executed later in time.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">serialQueue</span> <span class="p">=</span> <span class="n">DispatchQueue</span><span class="p">(</span><span class="n">label</span><span class="p">:</span> <span class="s">&#34;com.example.myqueue.serial&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">serialQueue</span><span class="p">.</span><span class="n">async</span> <span class="p">{}</span>
</span></span></code></pre></div><p>Or you can use a concurrent queue with similar methods but running your task in parallel.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">concurrentQueue</span> <span class="p">=</span> <span class="n">DispatchQueue</span><span class="p">(</span><span class="n">label</span><span class="p">:</span> <span class="s">&#34;com.example.myqueue.concurrent&#34;</span><span class="p">,</span> <span class="n">attributes</span><span class="p">:</span> <span class="p">.</span><span class="n">concurrent</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">concurrentQueue</span><span class="p">.</span><span class="n">sync</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="n">concurrentQueue</span><span class="p">.</span><span class="n">async</span> <span class="p">{}</span>
</span></span></code></pre></div><h3 id="the-difference-between-serial-queue-and-concurrent-queue">The difference between serial queue and concurrent queue<a hidden class="anchor" aria-hidden="true" href="#the-difference-between-serial-queue-and-concurrent-queue">#</a></h3>
<p>The difference between a serial and concurrent queue is that you should not wait until the concurrent operation finishes work in the <code>async</code> block.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">concurrentQueue</span> <span class="p">=</span> <span class="n">DispatchQueue</span><span class="p">(</span><span class="n">label</span><span class="p">:</span> <span class="s">&#34;com.example.myqueue.concurrent&#34;</span><span class="p">,</span> <span class="n">attributes</span><span class="p">:</span> <span class="p">.</span><span class="n">concurrent</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">concurrentQueue</span><span class="p">.</span><span class="n">sync</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mf">1.</span><span class="p">..</span><span class="mi">5</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="bp">print</span><span class="p">(</span><span class="s">&#34;Task </span><span class="si">\(</span><span class="n">i</span><span class="si">)</span><span class="s"> is running on Concurrent Queue&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// Simulate some work</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">concurrentQueue</span><span class="p">.</span><span class="n">sync</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mf">6.</span><span class="p">..</span><span class="mi">10</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="bp">print</span><span class="p">(</span><span class="s">&#34;Task </span><span class="si">\(</span><span class="n">i</span><span class="si">)</span><span class="s"> is running on Concurrent Queue&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// Simulate some work</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// prints</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">1</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">6</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">2</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">7</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">3</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">8</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">4</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">9</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">5</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">10</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span></code></pre></div><p>The serial queue executes tasks in order, and you should wait until the first <code>async</code> block finishes its work to start the second block.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">serialQueue</span> <span class="p">=</span> <span class="n">DispatchQueue</span><span class="p">(</span><span class="n">label</span><span class="p">:</span> <span class="s">&#34;com.example.myqueue.serual&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">serialQueue</span><span class="p">.</span><span class="n">sync</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mf">1.</span><span class="p">..</span><span class="mi">5</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="bp">print</span><span class="p">(</span><span class="s">&#34;Task </span><span class="si">\(</span><span class="n">i</span><span class="si">)</span><span class="s"> is running on Serial Queue&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// Simulate some work</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">serialQueue</span><span class="p">.</span><span class="n">sync</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mf">6.</span><span class="p">..</span><span class="mi">10</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="bp">print</span><span class="p">(</span><span class="s">&#34;Task </span><span class="si">\(</span><span class="n">i</span><span class="si">)</span><span class="s"> is running on Serial Queue&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// Simulate some work</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// prints</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">1</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">2</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">3</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">4</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">5</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">6</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">7</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">8</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">9</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">10</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span></code></pre></div><p>When you try to use the <code>sync</code> functionality, it behaves similarly on serial and concurrent queues by executing each task step by step and waiting till each block finishes its work.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">serialQueue</span> <span class="p">=</span> <span class="n">DispatchQueue</span><span class="p">(</span><span class="n">label</span><span class="p">:</span> <span class="s">&#34;com.example.myqueue.serial&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">serialQueue</span><span class="p">.</span><span class="n">sync</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mf">1.</span><span class="p">..</span><span class="mi">5</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="bp">print</span><span class="p">(</span><span class="s">&#34;Task </span><span class="si">\(</span><span class="n">i</span><span class="si">)</span><span class="s"> is running on Serial Queue&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// Simulate some work</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">serialQueue</span><span class="p">.</span><span class="n">sync</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mf">6.</span><span class="p">..</span><span class="mi">10</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="bp">print</span><span class="p">(</span><span class="s">&#34;Task </span><span class="si">\(</span><span class="n">i</span><span class="si">)</span><span class="s"> is running on Serial Queue&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// Simulate some work</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// prints</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">1</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">2</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">3</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">4</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">5</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">6</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">7</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">8</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">9</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">10</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Serial</span> <span class="n">Queue</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-swift" data-lang="swift"><span class="line"><span class="cl"><span class="kd">let</span> <span class="nv">concurrentQueue</span> <span class="p">=</span> <span class="n">DispatchQueue</span><span class="p">(</span><span class="n">label</span><span class="p">:</span> <span class="s">&#34;com.example.myqueue.concurrent&#34;</span><span class="p">,</span> <span class="n">attributes</span><span class="p">:</span> <span class="p">.</span><span class="n">concurrent</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">concurrentQueue</span><span class="p">.</span><span class="n">sync</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mf">1.</span><span class="p">..</span><span class="mi">5</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="bp">print</span><span class="p">(</span><span class="s">&#34;Task </span><span class="si">\(</span><span class="n">i</span><span class="si">)</span><span class="s"> is running on Concurrent Queue&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// Simulate some work</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">concurrentQueue</span><span class="p">.</span><span class="n">sync</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mf">6.</span><span class="p">..</span><span class="mi">10</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="bp">print</span><span class="p">(</span><span class="s">&#34;Task </span><span class="si">\(</span><span class="n">i</span><span class="si">)</span><span class="s"> is running on Concurrent Queue&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">// Simulate some work</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// prints</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">1</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">2</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">3</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">4</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">5</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">6</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">7</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">8</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">9</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="n">Task</span> <span class="mi">10</span> <span class="k">is</span> <span class="n">running</span> <span class="n">on</span> <span class="n">Concurrent</span> <span class="n">Queue</span>
</span></span></code></pre></div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/swift/">Swift</a></li>
      <li><a href="http://localhost:1313/tags/concurrency/">Concurrency</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/dispatchgroup-in-swift/">
    <span class="title">Â« Prev</span>
    <br>
    <span>DispatchGroup in Swift</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/what-are-value-types-in-swift/">
    <span class="title">Next Â»</span>
    <br>
    <span>What are value types in Swift?</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Concurrency in Swift on x"
            href="https://x.com/intent/tweet/?text=Concurrency%20in%20Swift&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fconcurrency-in-swift%2f&amp;hashtags=Swift%2cConcurrency">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Concurrency in Swift on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fconcurrency-in-swift%2f&amp;title=Concurrency%20in%20Swift&amp;summary=Concurrency%20in%20Swift&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fconcurrency-in-swift%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Concurrency in Swift on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fconcurrency-in-swift%2f&title=Concurrency%20in%20Swift">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Concurrency in Swift on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fconcurrency-in-swift%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Concurrency in Swift on whatsapp"
            href="https://api.whatsapp.com/send?text=Concurrency%20in%20Swift%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fconcurrency-in-swift%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Concurrency in Swift on telegram"
            href="https://telegram.me/share/url?text=Concurrency%20in%20Swift&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fconcurrency-in-swift%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Concurrency in Swift on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Concurrency%20in%20Swift&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fconcurrency-in-swift%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer><div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'dmytros-blog';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/">Dmytro&#39;s Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><script>
    
    
    let b = document.querySelector("#menu-trigger")
    let m = document.querySelector(".menu")
    b.addEventListener("click", function () {
        m.classList.toggle("hidden")
    });
    
    document.body.addEventListener('click', function (event) {
        if (!b.contains(event.target)) {
            m.classList.add("hidden")
        }
    });
    
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
